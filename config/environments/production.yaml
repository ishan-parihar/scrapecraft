apiVersion: v1
kind: ConfigMap
metadata:
  name: scrapecraft-config
  namespace: scrapecraft-prod
  labels:
    app: scrapecraft
    component: config
    environment: production
data:
  # Environment Configuration
  NODE_ENV: "production"
  LOG_LEVEL: "WARNING"
  
  # Backend Configuration
  BACKEND_HOST: "0.0.0.0"
  BACKEND_PORT: "8000"
  BACKEND_WORKERS: "4"
  RELOAD: "false"
  
  # Frontend Configuration
  REACT_APP_API_URL: "https://api.scrapecraft.com"
  REACT_APP_WS_URL: "wss://api.scrapecraft.com"
  REACT_APP_ENVIRONMENT: "production"
  
  # Database Configuration (Production)
  DATABASE_URL: "postgresql://scrapecraft:${DATABASE_PASSWORD}@postgres-prod:5432/scrapecraft_prod"
  DATABASE_POOL_SIZE: "20"
  DATABASE_MAX_OVERFLOW: "40"
  DATABASE_STATEMENT_TIMEOUT: "30000"
  DATABASE_QUERY_TIMEOUT: "10000"
  
  # Redis Configuration (Production)
  REDIS_URL: "redis://redis-prod:6379/0"
  REDIS_POOL_SIZE: "20"
  REDIS_SENTINEL_ENABLED: "true"
  REDIS_SENTINEL_SERVICE: "redis-sentinel"
  
  # Security Configuration (Production)
  SECRET_KEY: "${PRODUCTION_SECRET_KEY}"
  ALGORITHM: "RS256"
  ACCESS_TOKEN_EXPIRE_MINUTES: "60"
  REFRESH_TOKEN_EXPIRE_DAYS: "30"
  CORS_ORIGINS: "https://scrapecraft.com,https://api.scrapecraft.com"
  ENABLE_CSRF_PROTECTION: "true"
  
  # Monitoring Configuration (Production)
  ENABLE_METRICS: "true"
  METRICS_PORT: "9090"
  HEALTH_CHECK_INTERVAL: "15"
  SENTRY_DSN: "${PRODUCTION_SENTRY_DSN}"
  ENABLE_APM: "true"
  APM_SERVICE_NAME: "scrapecraft-prod"
  
  # Feature Flags (Production)
  ENABLE_DEBUG_MODE: "false"
  ENABLE_SQL_DEBUG: "false"
  ENABLE_CORS_DEBUG: "false"
  ENABLE_WEBSOCKET_DEBUG: "false"
  ENABLE_PERFORMANCE_PROFILING: "false"
  
  # External Services (Production)
  MOCK_EXTERNAL_APIS: "false"
  ENABLE_RATE_LIMITING: "true"
  RATE_LIMIT_REQUESTS: "100"
  RATE_LIMIT_WINDOW: "60"
  ENABLE_REQUEST_LOGGING: "true"
  ENABLE_SECURITY_HEADERS: "true"
  
  # Resource Limits (Production)
  MAX_MEMORY_USAGE: "4Gi"
  MAX_CPU_USAGE: "2000m"
  MAX_CONCURRENT_REQUESTS: "1000"
  
  # Performance Configuration
  ENABLE_CACHE: "true"
  CACHE_TTL: "600"
  ENABLE_COMPRESSION: "true"
  ENABLE_HTTP2: "true"
  
  # SSL/TLS Configuration
  FORCE_HTTPS: "true"
  SSL_VERIFY: "true"
  TLS_VERSION: "1.3"
  ENABLE_HSTS: "true"
  HSTS_MAX_AGE: "31536000"
  
  # Backup Configuration
  ENABLE_BACKUPS: "true"
  BACKUP_SCHEDULE: "0 2 * * *"
  BACKUP_RETENTION_DAYS: "30"
  BACKUP_ENCRYPTION: "true"
  
  # High Availability Configuration
  ENABLE_CLUSTERING: "true"
  ENABLE_LOAD_BALANCING: "true"
  SESSION_AFFINITY: "none"
  
  # External Service URLs
  WHOIS_SERVICE_URL: "https://api.whoisjson.com/v1"
  IP_API_URL: "https://ipapi.co"
  SHODAN_API_KEY: "${PRODUCTION_SHODAN_API_KEY}"
  VIRUSTOTAL_API_KEY: "${PRODUCTION_VIRUSTOTAL_API_KEY}"
  ABUSEIPDB_API_KEY: "${PRODUCTION_ABUSEIPDB_API_KEY}"
  
  # Compliance and Security
  GDPR_COMPLIANCE: "true"
  DATA_ENCRYPTION_AT_REST: "true"
  DATA_ENCRYPTION_IN_TRANSIT: "true"
  AUDIT_LOG_RETENTION_DAYS: "2555"
  ENABLE_WAF: "true"
  
  # Scaling Configuration
  ENABLE_AUTOSCALING: "true"
  MIN_REPLICAS: "3"
  MAX_REPLICAS: "20"
  TARGET_CPU_UTILIZATION: "70"
  TARGET_MEMORY_UTILIZATION: "80"
  
  # Disaster Recovery
  ENABLE_MULTI_REGION: "true"
  BACKUP_REGION: "us-west-2"
  DR_ENABLED: "true"
  RTO_TARGET: "300"
  RPO_TARGET: "15"